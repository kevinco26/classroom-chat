<html>
<head>
	 <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" /> -->

	<title></title>

	<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" ></script>
<script src="https://oss.maxcdn.com/bootbox/4.2.0/bootbox.min.js"></script>

</head>
<style>
	body{
		background-image: url("starsPrueba.jpg");
	}
	p{
		font-size:1.5em;
		color:white;
		/* text-align: auto !important;*/
	}
</style>
<body>
	<div style="text-align:center;display:none" id="mainDiv">
	<h2 id="mainTitle" style="margin-top:100px;color:white"> Welcome to the Chat app!</h2>
	<br>
	<br>
	</div>

	<form id="loginForm" method="post" class="form-horizontal" style="display: none;" onsubmit="return validateForm();">
	    <div class="form-group">
	    	
	    	<label class="col-xs-3 control-label">Class:</label>
	    	
	    	<select class="form-control" style="width:300px" id="classes">
					<option value="math141">Math 141</option>
					<option value="phys211">Physics 211</option>
			</select>
		
			<br>
	        <label class="col-xs-3 control-label">Name</label>
	        <div class="col-xs-5">
	            <input type="text" class="form-control" name="user[name]" id="username" />
	        </div>
	    </div>

		 	<div class="alert alert-danger" role="alert" style="display:none" id="emptyUser">
		  <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
		  <span class="sr-only">Error:</span>
		  Enter a valid username
		</div>
	    <div class="form-group">
	        <div class="col-xs-5 col-xs-offset-3">
	            <button type="submit" class="btn btn-default">Login</button>
	        </div>
	    </div>
	</form>
	<br>
	<br>

	<div id="roomsDiv" class="row" class="container-fluid" style="margin-top:50px;padding-left:50px;display:none">
		<div class="col-md-6">
			<h2 style="color:white"> Join a Chat Room</h2>
			<p>
				Join an existing chat room in which you can discover new topics, people and more!
			</p>
		
			<button class="btn btn-primary" id="joinRoomButton" style="color:white;font-size:1.5em" type="button">Join Room</button>
		</div>
		<div class="col-md-6">
			<h2 style="color:white"> Create a Chat Room</h2>
			<p >
				If you have an idea to share so that others can join and talk about it, click here to create your own chat room!
			</p>
			<button class="btn btn-primary" style="color:white;font-size:1.5em" id="login">Create a room</button>
			
		</div>
	</div>



<script>

	function validateForm(){
    	
	    if(document.getElementById("username").value == "")
	    {
	    	document.getElementById("emptyUser").style.display = "inherit";
	    	return false;
			
		}
		var dd = document.getElementById("classes");
		var className = dd.options[dd.selectedIndex].value;
    	document.getElementById("loginForm").action ="/class/" + className;
	}


$(document).ready(function() {

	$( "#mainDiv" ).fadeIn( 1200, function() {
    // Animation complete
 	 });

	$( "#roomsDiv" ).fadeIn( 1200, function() {
    // Animation complete
 	 });

    // Login button click handler
    $('#joinRoomButton').on('click', function() {

        bootbox
            .dialog({
                title: 'Login',
                message: $('#loginForm'),
            })
            .on('shown.bs.modal', function() {
                $('#loginForm')
                    .show()                             // Show the login form
                 
            })
            .on('hide.bs.modal', function(e) {
                // Bootbox will remove the modal (including the body which contains the login form)
                // after hiding the modal
                // Therefor, we need to backup the form
                $('#loginForm').hide().appendTo('body');
            })
            .modal('show');
    });

});
</script>

</body>

</html>